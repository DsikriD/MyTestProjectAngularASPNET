{"ast":null,"code":"import { Component, Inject, Injectable } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nexport class CategoryComponent {\n  constructor(http, baseUrl, eventEmitterService) {\n    this.eventEmitterService = eventEmitterService;\n    this.categories = [];\n    this.baseUrl = \"\";\n    this.baseUrl = baseUrl;\n    this.http = http;\n    this.getCategory();\n  }\n  ngOnInit() {\n    if (this.eventEmitterService.subsVar == undefined) {\n      this.eventEmitterService.subsVar = this.eventEmitterService.invokeFirstComponentFunction.subscribe(name => {\n        console.log(\"ConsoleLOG\" + this.eventEmitterService.category.id + this.eventEmitterService.category.name);\n        this.addCategory(this.eventEmitterService.category);\n      });\n    }\n  }\n  addCategory(category) {\n    return this.http.post(this.baseUrl + 'Category/', category).subscribe(result => {\n      console.log(\"ConsoleLOG\" + result);\n      this.getCategory();\n    });\n  }\n  getCategory() {\n    this.http.get(this.baseUrl + 'Category').subscribe(result => {\n      this.categories = result;\n    }, error => console.error(error));\n  }\n  deleteCategory(id) {\n    return this.http.delete(this.baseUrl + 'Category/' + id).subscribe(result => {\n      this.getCategory();\n    });\n  }\n}\nCategoryComponent.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: CategoryComponent,\n  factory: CategoryComponent.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"mappings":"AAAA,SAASA,SAAS,EAAEC,MAAM,EAAEC,UAAU,QAAe,eAAe;;AAepE,OAAM,MAAOC,iBAAiB;EAK5BC,YAAYC,IAAgB,EAAsBC,OAAe,EAAUC,mBAAwC;IAAxC,wBAAmB,GAAnBA,mBAAmB;IAJvF,eAAU,GAAe,EAAE;IAC1B,YAAO,GAAW,EAAE;IAI1B,IAAI,CAACD,OAAO,GAAGA,OAAO;IACtB,IAAI,CAACD,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACG,WAAW,EAAE;EACpB;EACEC,QAAQ;IACN,IAAI,IAAI,CAACF,mBAAmB,CAACG,OAAO,IAAIC,SAAS,EAAE;MACjD,IAAI,CAACJ,mBAAmB,CAACG,OAAO,GAAG,IAAI,CAACH,mBAAmB,CACzDK,4BAA4B,CAACC,SAAS,CAAEC,IAAY,IAAI;QACtDC,OAAO,CAACC,GAAG,CAAC,YAAY,GAAG,IAAI,CAACT,mBAAmB,CAACU,QAAQ,CAACC,EAAE,GAAG,IAAI,CAACX,mBAAmB,CAACU,QAAQ,CAACH,IAAI,CAAC;QACzG,IAAI,CAACK,WAAW,CAAC,IAAI,CAACZ,mBAAmB,CAACU,QAAQ,CAAC;MACrD,CAAC,CAAC;;EAER;EAEFE,WAAW,CAACF,QAAiB;IAC3B,OAAO,IAAI,CAACZ,IAAI,CAACe,IAAI,CAAW,IAAI,CAACd,OAAO,GAAG,WAAW,EAAEW,QAAQ,CAAC,CAACJ,SAAS,CAACQ,MAAM,IAAG;MACvFN,OAAO,CAACC,GAAG,CAAC,YAAY,GAAGK,MAAM,CAAC;MAClC,IAAI,CAACb,WAAW,EAAE;IACpB,CAAC,CAAC;EACJ;EAEAA,WAAW;IACT,IAAI,CAACH,IAAI,CAACiB,GAAG,CAAa,IAAI,CAAChB,OAAO,GAAG,UAAU,CAAC,CAACO,SAAS,CAACQ,MAAM,IAAG;MACtE,IAAI,CAACE,UAAU,GAAGF,MAAM;IAC1B,CAAC,EAAEG,KAAK,IAAIT,OAAO,CAACS,KAAK,CAACA,KAAK,CAAC,CAAC;EACnC;EAEAC,cAAc,CAACP,EAAU;IACvB,OAAO,IAAI,CAACb,IAAI,CAACqB,MAAM,CAAa,IAAI,CAACpB,OAAO,GAAG,WAAW,GAAGY,EAAE,CAAC,CAACL,SAAS,CAACQ,MAAM,IAAG;MACtF,IAAI,CAACb,WAAW,EAAE;IACpB,CAAC,CAAC;EACJ;;AArCWL,iBAAiB;SAAjBA,iBAAiB;EAAAwB,SAAjBxB,iBAAiB;EAAAyB,YAHd;AAAM","names":["Component","Inject","Injectable","CategoryComponent","constructor","http","baseUrl","eventEmitterService","getCategory","ngOnInit","subsVar","undefined","invokeFirstComponentFunction","subscribe","name","console","log","category","id","addCategory","post","result","get","categories","error","deleteCategory","delete","factory","providedIn"],"sourceRoot":"","sources":["C:\\Users\\sikri\\source\\repos\\MyTestAngular\\MyTestAngular\\ClientApp\\src\\app\\category\\category.component.ts"],"sourcesContent":["import { Component, Inject, Injectable, OnInit} from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { EventEmitterService } from './event-emitter.service';\r\nimport { Category } from '../modal/category.mode';\r\nimport { delay } from 'rxjs';\r\n\r\n@Component({\r\n  selector: 'category-data',\r\n  templateUrl: './category.component.html'\r\n})\r\n\r\n  @Injectable({\r\n    providedIn: 'root'\r\n  })\r\n\r\nexport class CategoryComponent implements OnInit{\r\n  public categories: Category[] = [];\r\n  private baseUrl: string = \"\";\r\n  http: HttpClient;\r\n\r\n  constructor(http: HttpClient, @Inject('BASE_URL') baseUrl: string, private eventEmitterService: EventEmitterService) {\r\n    this.baseUrl = baseUrl;\r\n    this.http = http;\r\n    this.getCategory();\r\n  }\r\n    ngOnInit(): void {\r\n      if (this.eventEmitterService.subsVar == undefined) {\r\n        this.eventEmitterService.subsVar = this.eventEmitterService.\r\n          invokeFirstComponentFunction.subscribe((name: string) => {\r\n            console.log(\"ConsoleLOG\" + this.eventEmitterService.category.id + this.eventEmitterService.category.name);\r\n            this.addCategory(this.eventEmitterService.category);\r\n          });\r\n      } \r\n    }\r\n\r\n  addCategory(category:Category) {\r\n    return this.http.post<Category>(this.baseUrl + 'Category/', category).subscribe(result => {\r\n      console.log(\"ConsoleLOG\" + result);\r\n      this.getCategory();\r\n    });\r\n  }\r\n\r\n  getCategory() {\r\n    this.http.get<Category[]>(this.baseUrl + 'Category').subscribe(result => {\r\n      this.categories = result;\r\n    }, error => console.error(error));\r\n  }\r\n\r\n  deleteCategory(id: number) {\r\n    return this.http.delete<Category[]>(this.baseUrl + 'Category/' + id).subscribe(result => {\r\n      this.getCategory();\r\n    });\r\n  }\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}